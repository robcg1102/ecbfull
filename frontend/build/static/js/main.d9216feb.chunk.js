(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(12),s=n.n(r),i=(n(42),n(43),n(3)),l=n(2),o=n.n(l),d=n(5),u=n(14),b=n(17),j=n.n(b),m="https://testecb.herokuapp.com",p=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(m,"/services"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat(m,"/services"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("".concat(m,"/services/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(m,"/services/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.put("".concat(m,"/services/").concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=n(15),N=n.n(v),g=function(e){var t=e.maintenanceItem,n=e.loadItems,c=Object(i.f)();return Object(a.jsxs)("tr",{className:"".concat(t.maintenance?"table-secondary text-primary":""),children:[Object(a.jsx)("td",{className:"text-center",children:t.description}),Object(a.jsx)("td",{className:"text-center",children:t._id}),Object(a.jsx)("td",{className:"text-center",children:t.clientName}),Object(a.jsx)("td",{className:"text-center",children:Object(a.jsx)("button",{className:"btn btn-info",onClick:function(){return c.push("/detail/".concat(t._id))},children:"More info"})}),Object(a.jsx)("td",{className:"text-center",children:Object(a.jsx)("button",{className:"btn btn-warning",onClick:function(){return c.push("/edit/".concat(t._id))},children:"Edit"})}),Object(a.jsx)("td",{className:"text-center",children:Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return t._id&&(e=t._id,void N()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data!",icon:"warning",buttons:{cancel:!0,confirm:!0},dangerMode:!0}).then(function(){var t=Object(d.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,h(e);case 3:n(),N()("Poof! Your file has been deleted!",{icon:"success"}),t.next=8;break;case 7:N()("Your file is safe!");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},children:"X"})})]})},k=function(){var e=Object(i.f)(),t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],s=n[1],l=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){l()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"container d-flex justify-content-around p-4",children:[Object(a.jsx)("h1",{children:"All maintenance car"}),Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return e.push("/new")},children:"New Maintenance"})]}),Object(a.jsx)("div",{className:"container d-flex justify-content-center",children:Object(a.jsx)("table",{className:"table table-dark col col-lg-2",children:Object(a.jsxs)("tbody",{children:[Object(a.jsx)("tr",{className:"table-secondary text-primary",children:Object(a.jsx)("th",{scope:"row",children:"On maintenance"})}),Object(a.jsx)("tr",{children:Object(a.jsx)("th",{scope:"row",children:"No maintenance"})})]})})}),Object(a.jsxs)("table",{className:"table table-dark table-hover table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",className:"text-center",children:"Description"}),Object(a.jsx)("th",{scope:"col",className:"text-center",children:"ID"}),Object(a.jsx)("th",{scope:"col",className:"text-center",children:"Client name"}),Object(a.jsx)("th",{scope:"col",className:"text-center",children:"Info"}),Object(a.jsx)("th",{scope:"col",className:"text-center",children:"Edit"}),Object(a.jsx)("th",{scope:"col",className:"text-center",children:"Delete"})]})}),Object(a.jsx)("tbody",{children:r.map((function(e){return Object(a.jsx)(g,{maintenanceItem:e,loadItems:l})}))})]})]})},y=n(10),w=function(){return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(a.jsxs)("div",{className:"navbar-nav",children:[Object(a.jsx)(y.b,{className:"nav-link","aria-current":"page",to:"/",children:"Home"}),Object(a.jsx)(y.b,{className:"nav-link",to:"/new",children:"Create new maintenance"})]})})]})})},D=n(25),M=n.n(D),C=n.p+"static/media/alternImage.02150728.jpg",E=function(){var e=Object(i.g)(),t=Object(c.useState)(),n=Object(u.a)(t,2),r=n[0],s=n[1],l=function(){var e=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return n=e.sent,s(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){l(e.id)}),[]),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"card text-center",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsxs)("h2",{className:"card-title",children:["OWNER: ",null===r||void 0===r?void 0:r.clientName]})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("h3",{className:"card-title",children:["MAKE: ",null===r||void 0===r?void 0:r.make]}),Object(a.jsxs)("h5",{className:"card-title",children:["MODEL: ",null===r||void 0===r?void 0:r.model]}),Object(a.jsxs)("p",{children:["KILOMETERS: ",null===r||void 0===r?void 0:r.kilometers," km"]}),Object(a.jsxs)("p",{children:["ON MAINTENANCE:"," ",(null===r||void 0===r?void 0:r.maintenance)?Object(a.jsx)("span",{className:"border border-danger",children:"Yes"}):Object(a.jsx)("span",{children:"No"})]}),(null===r||void 0===r?void 0:r.image)?Object(a.jsx)("img",{src:"...",className:"img-fluid",alt:"..."}):Object(a.jsx)("img",{src:C,className:"img-fluid",alt:"Alternimage"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{className:"card-text border border-warning",children:["DESCRIPTION: ",Object(a.jsx)("br",{})," ",null===r||void 0===r?void 0:r.description]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{className:"card-text border border-success",children:["ESTIMATE DATE: ",Object(a.jsx)("br",{}),Object(a.jsx)(M.a,{format:"YYYY/MM/DD",children:null===r||void 0===r?void 0:r.estimatedate})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{className:"card-text",children:["ID: ",null===r||void 0===r?void 0:r._id]}),Object(a.jsx)(y.b,{to:"/",className:"btn btn-primary",children:"Home"})]}),Object(a.jsxs)("div",{className:"card-footer text-muted",children:["LAST UPDATED: ",Object(a.jsx)(M.a,{fromNow:!0,children:null===r||void 0===r?void 0:r.updatedAt})]})]})})},A=n(19),I=n(16),T=n(18),S=function(){var e=Object(i.g)(),t=Object(i.f)(),n={todayDate:Date()},r=Object(c.useState)({description:"",make:"",model:"",kilometers:0,maintenance:!1,clientName:"",estimatedate:""}),s=Object(u.a)(r,2),l=s[0],b=s[1],j=Object(c.useState)(n),m=Object(u.a)(j,2),p=m[0],h=m[1],v=function(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),c=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[c,n,a].join("-")},g=function(e){b(Object(I.a)(Object(I.a)({},l),{},Object(A.a)({},e.target.name,e.target.value)))};Object(c.useEffect)((function(){h({todayDate:v(p.todayDate)}),b(Object(I.a)(Object(I.a)({},l),{},{estimatedate:p.todayDate})),e.id&&k(e.id)}),[]);var k=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,a,c,r,s,i,l,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:n=e.sent,a=n.data,c=a.description,r=a.make,s=a.model,i=a.kilometers,l=a.maintenance,d=a.clientName,u=a.estimatedate,b({description:c,make:r,model:s,kilometers:i,maintenance:l,clientName:d,estimatedate:u});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var n=Object(d.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),!e.id){n.next=8;break}return N()({text:"Maintenance updated!",icon:"success"}),n.next=5,f(e.id,l);case 5:T.b.success("Maintenance updated"),n.next=12;break;case 8:return N()({text:"Maintenance created!",icon:"success"}),n.next=11,x(l);case 11:T.b.success("New Maintenance created");case 12:t.push("/");case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[e.id?Object(a.jsx)("h2",{children:"Edit"}):Object(a.jsx)("h2",{children:"Create new"}),Object(a.jsxs)("form",{onSubmit:y,children:[Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Client name"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Client name","aria-label":"Client name","aria-describedby":"basic-addon1",value:l.clientName,onChange:g,name:"clientName"})]}),Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Make"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Make","aria-label":"Make","aria-describedby":"basic-addon1",value:l.make,onChange:g,name:"make"})]}),Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Model"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Model","aria-label":"Model","aria-describedby":"basic-addon1",value:l.model,onChange:g,name:"model"})]}),Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("span",{className:"input-group-text",children:"Description"}),Object(a.jsx)("textarea",{value:l.description,className:"form-control","aria-label":"With textarea",onChange:g,name:"description"})]}),Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Kilometers"}),Object(a.jsx)("input",{type:"number",className:"form-control","aria-label":"Model","aria-describedby":"basic-addon1",value:l.kilometers,onChange:g,name:"kilometers"})]}),Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Estimate Date"}),Object(a.jsx)("input",{id:"date",type:"date",onChange:g,name:"estimatedate",value:"".concat(l.estimatedate),min:"".concat(p.todayDate)})]}),Object(a.jsx)("div",{className:"input-group mb-3",children:Object(a.jsxs)("div",{className:"form-check",children:[Object(a.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexCheckDefault",name:"maintenance",onChange:function(e){b(Object(I.a)(Object(I.a)({},l),{},{maintenance:!l.maintenance}))},checked:l.maintenance}),Object(a.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:"On Maintenance"})]})}),e.id?Object(a.jsx)("button",{className:"btn btn-success",children:"Update Data"}):Object(a.jsx)("button",{className:"btn btn-success",children:"Create"})]})]})};var Y=function(){return Object(a.jsxs)("div",{className:"App mb-4",children:[Object(a.jsx)(w,{}),Object(a.jsxs)("div",{className:"container p-3",children:[Object(a.jsxs)(i.c,{children:[Object(a.jsx)(i.a,{exact:!0,path:"/",component:k}),Object(a.jsx)(i.a,{exact:!0,path:"/detail/:id",component:E}),Object(a.jsx)(i.a,{exact:!0,path:"/new",component:S}),Object(a.jsx)(i.a,{exact:!0,path:"/edit/:id",component:S})]}),Object(a.jsx)(T.a,{})]})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(72),n(73);s.a.render(Object(a.jsx)(y.a,{children:Object(a.jsx)(Y,{})}),document.getElementById("root")),F()}},[[74,1,2]]]);
//# sourceMappingURL=main.d9216feb.chunk.js.map